<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Capsulate</title>
    </head>
    <body>
        <div id="app">
<textarea style="width: 100%; height: 500px">
<html><body><div style="text-align: center;"> 

    <a alias="image_take_banner_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" title=""><img alt="A SPECIAL MESSAGE FROM: REPRESENTATIVE JIM JORDAN" data-assetid="97817" src="https://image.campaigns.rnchq.com/lib/fe5b15707c62007c731d/m/4/ba2ebddd-9e3e-45b3-8cc7-61274c7fd7c1.png" style="padding: 0px; text-align: center; height: auto; width: 100%; border: 0px;" width="800"></a></div><div> 
    
    <br> 
    
    <span style="font-family: Arial, Helvetica, sans-serif; font-size: 18px;">%%FirstName%%, real Americans like YOU know the Biden Administration has been a disaster.</span></div><br> 
    
    <span style="font-size:18px;"><span style="font-family:Arial,Helvetica,sans-serif;">That&rsquo;s why I&rsquo;m trusting you to be a part of a select group of Patriots who assist the GOP in DEFEATING Joe Biden by completing our <b><a alias="text_take_test1_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" style="color:#FF0000;text-decoration:underline;" title="">2024 Presidential Canvass.</a></b></span></span><div style="text-align: center;"> 
    
    <br> 
    
    <a alias="image_take_main_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" title=""><img alt="THE OFFICIAL 2024 PRESIDENTIAL CANVASS" data-assetid="97742" height="440" src="https://image.campaigns.rnchq.com/lib/fe5b15707c62007c731d/m/4/b24243ce-4f42-4e09-8961-67b4bc180648.png" style="padding: 0px; text-align: center; height: 440px; width: 400px; border: 0px;" width="400"></a></div><br> 
    
    <u><span style="font-size:18px;"><span style="font-family:Arial,Helvetica,sans-serif;"><b><a alias="text_take_top_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" style="color:#3030CE;text-decoration:underline;" title=""><span style="background-color:#ffff00;">Joe Biden&rsquo;s America is failing, but it&rsquo;s not too late to save our country from complete destruction. Stop his RADICAL agenda by taking the Presidential Canvass NOW.</span></a></b></span></span></u><div style="text-align: center;"> 
    
    &nbsp;&nbsp;</div><div style="text-align: center;"> 
    
    <div> 
    
        <div style="text-align: center;"> 
    
        <div style="text-align: center;"> 
    
        <div> 
    
        <center style="text-align: left;"> 
    
            <center> 
    
            <div style="line-height:inherit;background-color:transparent"> 
    
            <div class="m_-410338360391266680block-grid" style="line-height:inherit;Margin:0 auto;min-width:320px;max-width:700px;width:calc(39000% - 280100px);word-wrap:break-word;word-break:break-word;background-color:transparent"> 
    
            <div style="line-height:inherit;border-collapse:collapse;display:table;width:100%"> 
    
                <div class="m_-410338360391266680col m_-410338360391266680num12" style="line-height:inherit;min-width:320px;max-width:500px;width:calc(38000% - 265300px);background-color:transparent"> 
    
                <center> 
    
                <div style="line-height:inherit;background-color:#D8171E;width:100%!important"> 
    
                <div style="line-height:inherit;border-top:4px solid #000000;border-left:4px solid #000000;border-bottom:0px solid #000000;border-right:4px solid #000000;padding-top:5px;padding-bottom:0px;padding-right:0px;padding-left:0px"> 
    
                    <div style="color:#555555;line-height:120%;font-family:arial,helvetica,sans-serif;padding-right:10px;padding-left:10px;padding-top:10px;padding-bottom:10px"> 
    
                    <div style="font-size:12px;line-height:14px;font-family:arial,helvetica,sans-serif;color:#555555;text-align:left"> 
    
                    <p style="margin: 0px; font-size: 12px; line-height: 14px; text-align: center;"> 
    
                    <span style="font-family:Arial,Helvetica,sans-serif;"><b><b><span style="font-size: 18px;"><span style="font-size:20px;"><span style="line-height: 24px;"><strong style="line-height:inherit"><span style="color: rgb(255, 255, 255); line-height: 24px;"><span style="border-top: 0px solid transparent;"><a alias="text_take_boxheader_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" style="color:#FFFFFF;text-decoration:none;" title="">2024 PRESIDENTIAL CANVASS</a></span></span></strong></span></span></span></b></b></span></p></div></div></div></div></center></div></div></div></div><center> 
    
            <div style="line-height:inherit;background-color:transparent"> 
    
            <div class="m_-410338360391266680block-grid" style="line-height:inherit;Margin:0 auto;min-width:320px;max-width:700px;width:calc(39000% - 280100px);word-wrap:break-word;word-break:break-word;background-color:transparent"> 
    
                <div style="line-height:inherit;border-collapse:collapse;display:table;width:100%"> 
    
                <div class="m_-410338360391266680col m_-410338360391266680num12" style="line-height:inherit;min-width:320px;max-width:500px;width:calc(38000% - 265300px);background-color:transparent"> 
    
                <div style="line-height:inherit;background-color:white;width:100%!important"> 
    
                <div style="line-height:inherit;border-top:3px solid #000000;border-left:3px solid #000000;border-bottom:3px solid #000000;border-right:3px solid #000000;padding-top:5px;padding-bottom:5px;padding-right:0px;padding-left:0px"> 
    
                    <div style="color:#555555;line-height:120%;font-family: Arial, sans-serif;padding-right:10px;padding-left:10px;padding-top:10px;padding-bottom:10px"> 
    
                    <div align="center" class="m_-410338360391266680button-container m_-410338360391266680center" style="line-height:inherit;padding-right:10px;padding-left:10px;padding-top:10px;padding-bottom:10px"> 
    
                    <p span="" style="border-width: 2px; border-style: solid; border-color: black; border-radius: 6px; text-align: center;"> 
    
                    <br> 
    
                    <b><b><span style="font-family:Arial,Helvetica,sans-serif;"><span style="font-size: 18px;"><span style="font-size: 18px;"><span style="font-size: 18px;"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><a alias="text_take_box_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" style="color:black;text-decoration:none;line-height:inherit;display:inline-block;text-align:center;background-color:#FFFFFF;border-radius:6px;max-width:350px;width:auto;border-right:0px solid transparent;border-bottom:0px solid transparent;border-left:0px solid transparent;padding-top:12px;padding-right:25px;padding-bottom:12px;padding-left:25px;font-family: Arial,Helvetica,sans-serif;border-top:0px solid transparent" target="_blank" title=""><span style="font-size:18px;line-height:30px"><strong style="line-height:inherit"><span style="line-height:30px;font-size:18px">DO YOU SUPPORT LIMITING THE POWER OF BIG TECH COMPANIES?<br> 
    
                    <br> 
    
                    ⭕ YES<br> 
    
                    <br> 
    
                    ⭕ NO</span></strong></span></a></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></span></span></span></span><br> 
    
                    &nbsp;</b></b></p></div><div class="m_-410338360391266680button-container m_-410338360391266680center" style="line-height: inherit; padding: 10px; text-align: center;"> 
    
                    <b><b><span style="font-family: arial, helvetica, sans-serif; font-size: 18px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 18px;"><span style="font-family: arial, helvetica, sans-serif; font-size: 18px;"><strong style="line-height:inherit"><strong style="line-height:inherit"><strong style="line-height:inherit"><span style="color: rgb(255, 255, 255); text-decoration: none; line-height: 18px; display: inline-block; text-align: center; background-color: rgb(216, 23, 30); border-radius: 2px; max-width: 350px; width: auto; border-width: 0px; border-style: solid; border-color: transparent; padding: 12px 25px; font-family: arial, helvetica, sans-serif; font-size: 12px;"><span style="font-size:18px;line-height:30px"><strong style="line-height:inherit"><span style="line-height:30px;font-size:18px"><a alias="button_take_box_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" style="color:#ffffff;text-decoration:none;line-height:inherit;display:inline-block;text-align:center;background-color:#D8171E;border-radius:1px;max-width:350px;width:auto;border-right:0px solid transparent;border-bottom:0px solid transparent;border-left:0px solid transparent;padding-top:2px;padding-right:25px;padding-bottom:2px;padding-left:25px;font-family:Arial,Helvetica,sans-serif;border-top:0px solid transparent" target="_blank" title="">TAKE THE CANVASS NOW &gt;&gt;</a></span></strong></span></span></strong></strong></strong></span></span></span><br> 
    
                    &nbsp;</b></b></div></div></div></div></div></div></div></div></center></center></center></div></div></div></div></div><div> 
    
    <br> 
    
    <span style="font-size:18px;"><span style="font-family:Arial,Helvetica,sans-serif;">As a proud Republican, you have no greater duty to your Party than to help us TAKE BACK the White House in 2024.<br> 
    
    <br> 
    
    <b><a alias="text_take_bottom_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" style="color:#3030CE;text-decoration:underline;" title="">Can I count on you to step up, %%FirstName%%? Complete the 2024 Presidential Canvass IMMEDIATELY and make your voice HEARD. &gt;&gt;</a></b></span></span><br> 
    
    <br> 
    
    <span style="font-size:18px;"><span style="font-family:Arial,Helvetica,sans-serif;">For freedom,</span></span><br> 
    
    <br> 
    
    <a alias="image_take_headshot_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" title=""><img alt="Jim Jordan " data-assetid="82956" height="123" src="https://image.campaigns.rnchq.com/lib/fe5b15707c62007c731d/m/3/156c7b4b-ce0f-4e6d-a478-a513705a8bc9.png" style="padding: 0px; text-align: center; height: 123px; width: 150px; border: 0px;" width="150"></a><br> 
    
    <span style="font-size:18px;"><span style="font-family:Arial,Helvetica,sans-serif;">Jim Jordan &nbsp;<br> 
    
    Representative OH-4&nbsp;</span></span><br> 
    
    &nbsp;</div><div style="text-align: center;"> 
    
    <b><b><span style="font-family:Arial,Helvetica,sans-serif;"><span style="font-size:18px;"><span style="color:#000000;"><span style="font-family:Arial,Helvetica,sans-serif;"><span style="font-size:18px;"><span style="color:#000000;"><span style="font-family:Arial,Helvetica,sans-serif;"><span style="font-size:18px;"><span style="font-family:Arial,Helvetica,sans-serif;"><span style="font-size:18px;"><b><a alias="button_take_bottom_25_dn" conversion="false" data-linkto="https://" href="https://secure.winred.com/rnc/2024-presidential-canvass-jj-dn?amount=25&recurring=true&money_bomb=false" rgb="" style="color:#FFFFFF;text-decoration:none;border-radius: 2px; display: inline-block; font-family: 'Arial Black', 'Arial Bold', Gadget, sans-serif; font-size: 16px; line-height: 50px; width: 290px; height: 50px; background-color: rgb(216, 23, 30); " title="">TAKE THE CANVASS NOW &gt;&gt;</a></b></span></span></span></span></span></span></span></span></span></span></b></b></div><div> 
    
    </div><div> 
    
    <center> 
    
    </center></div> </body></html>
</textarea>
        </div>
        
        <script type="module">
            import { cheerio, manipulate, decodeHtmlEntities, encodeHtmlEntities, encodeFreemarkerTags, extractSourceCodes } from './src/helpers';
            import FixMsoWrapper from './src/dom/FixMsoWrapper';
            import ReplaceQueryStrings from './src/dom/ReplaceQueryStrings';
            import TaskRunner from './src/TaskRunner';
            import Beautify from './src/plugins/Beautify';
            import PreserveBodyAttributes from './src/plugins/PreserveBodyAttributes';
            import PreserveHeadTag from './src/plugins/PreserveHeadTag';
            import Template from './src/plugins/Template';
            import { capsulate } from './src/capsulate';

            const src = document.querySelector('textarea').value;

            console.log(await capsulate(src));

            // console.log(await capsulate('<div><#if (a>b)>test</#if></div>'));
            
            // console.log(await manipulate(src, [
            //     new ReplaceQueryStrings([
            //         {key: 'test', from: '${Gears.whatever}', to: '${Gears.updated}'},
            //     ])
            // ]));

            // const runner = new TaskRunner([
            //     new Beautify,
            //     // new PreserveBodyAttributes,
            //     // new PreserveHeadTag,
            //     new Template({
            //         data: {
        //             title: 'Test'
            //         }
            //     })
            // ]);
        
            // const response = await runner.process(html);
            
            // console.log(await capsulate(document.querySelector('textarea').value, {
            //     dom: {
            //         replaceQueryStrings: [
            //             {
            //                 key: 'a',
            //                 from: '1',
            //                 to: '1-updated'
            //             },
            //             {
            //                 key: 'b',
            //                 from: '2',
            //                 to: '2-updated'
            //             }
            //         ]
            //     }
            // }));

            // capsulate(html).then(response => console.log(response))
        </script>
    </body>
</html>
